# 管道（一）

# 管道
- 管道是Unix中最古老的进程间通信的形式。
- 我们把从一个进程连接到另一个进程的一个数据流称为一个“管道”
- 管道是半双工的，数据只能向一个方向流动;需要双方通信时，需要建立起两个管道
- 只能用于具有共同祖先的进程(具有亲缘关系的进程)之间进行通信;通常，一个管道由一个进程创建，然后该进程调用fork，此后父、子进程之间就可应用该管道。

# 匿名管道pipe
- 包含头文件<unistd.h>
- 功能:创建一无名管道
- 原型
  - int pipe(int fd[2]);
- 参数
  - fd:文件描述符数组，其中fd[0]表示读端, fd[1]表示写端
- 返回值:成功返回0，失败返回错误代码

管道的示意图
![](mdimg/QQ截图20210626002454.png)

# 管道示例程序
- [使用pipe函数](01pipe.c)
- [模拟 ls | wc -w](02pipe.c)